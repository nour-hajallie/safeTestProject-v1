"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.anythingProxy = void 0;
let thenState = 'none';
exports.anythingProxy = new Proxy(function anythingProxy() { }, {
    apply: (_target, _thisArg, [resolve]) => {
        if (thenState === 'maybe') {
            thenState = 'resolved';
            return resolve ? resolve(exports.anythingProxy) : exports.anythingProxy;
        }
        return exports.anythingProxy;
    },
    get: (_target, key) => {
        if (key === Symbol.unscopables)
            return {};
        if (key === Symbol.toPrimitive)
            return () => '';
        if (key === 'then') {
            if (thenState === 'none') {
                thenState = 'maybe';
            }
            else if (thenState === 'resolved') {
                thenState = 'none';
                return;
            }
        }
        return exports.anythingProxy;
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW55dGhpbmdQcm94eS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hbnl0aGluZ1Byb3h5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLElBQUksU0FBUyxHQUFrQyxNQUFNLENBQUM7QUFFekMsUUFBQSxhQUFhLEdBQVEsSUFBSSxLQUFLLENBQUMsU0FBUyxhQUFhLEtBQUksQ0FBQyxFQUFFO0lBQ3ZFLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFO1FBQ3RDLElBQUksU0FBUyxLQUFLLE9BQU8sRUFBRTtZQUN6QixTQUFTLEdBQUcsVUFBVSxDQUFDO1lBQ3ZCLE9BQU8sT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxxQkFBYSxDQUFDO1NBQ3pEO1FBQ0QsT0FBTyxxQkFBYSxDQUFDO0lBQ3ZCLENBQUM7SUFDRCxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDcEIsSUFBSSxHQUFHLEtBQUssTUFBTSxDQUFDLFdBQVc7WUFBRSxPQUFPLEVBQUUsQ0FBQztRQUMxQyxJQUFJLEdBQUcsS0FBSyxNQUFNLENBQUMsV0FBVztZQUFFLE9BQU8sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQ2hELElBQUksR0FBRyxLQUFLLE1BQU0sRUFBRTtZQUNsQixJQUFJLFNBQVMsS0FBSyxNQUFNLEVBQUU7Z0JBQ3hCLFNBQVMsR0FBRyxPQUFPLENBQUM7YUFDckI7aUJBQU0sSUFBSSxTQUFTLEtBQUssVUFBVSxFQUFFO2dCQUNuQyxTQUFTLEdBQUcsTUFBTSxDQUFDO2dCQUNuQixPQUFPO2FBQ1I7U0FDRjtRQUNELE9BQU8scUJBQWEsQ0FBQztJQUN2QixDQUFDO0NBQ0YsQ0FBQyxDQUFDIn0=