import React from 'react';
import { ComponentsContext } from './report';
const borderColor = '#e2e2e2';
const backgroundColorOpen = '#f7f7f7';
const backgroundColorClosed = '#fafafa';
export const Accordion = ({ children, summary, open: propOpen, defaultOpen, onChange }) => {
    const { Expandable } = React.useContext(ComponentsContext);
    const [open, setOpen] = React.useState(defaultOpen ?? !!propOpen);
    React.useEffect(() => {
        if (propOpen !== undefined)
            setOpen(propOpen);
    }, [propOpen]);
    const background = open ? backgroundColorOpen : backgroundColorClosed;
    return (React.createElement("div", { style: { border: `1px solid #${borderColor}` } },
        React.createElement("div", { onClick: () => {
                setOpen(!open);
                onChange?.(!open);
            }, style: { cursor: 'pointer', padding: 10, margin: 2, background } },
            React.createElement("span", { style: {
                    marginRight: '0.5em',
                    display: 'inline-block',
                    transform: open ? 'rotate(90deg)' : 'rotate(0deg)',
                    transition: 'transform 0.2s ease',
                } },
                React.createElement("span", { style: { userSelect: 'none' } }, "\u276F")),
            summary),
        React.createElement(Expandable, { expanded: open },
            React.createElement("div", { style: { marginLeft: '1.5em', padding: 8 } }, children))));
};
